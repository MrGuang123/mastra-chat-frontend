# Mastra èŠå¤©å‰ç«¯

è¿™æ˜¯ä¸€ä¸ªåŸºäº React å’Œ TypeScript çš„èŠå¤©å‰ç«¯åº”ç”¨ï¼Œç”¨äºä¸ Mastra AI æ™ºèƒ½ä½“è¿›è¡Œäº¤äº’ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ’¬ å®æ—¶èŠå¤©ç•Œé¢
- ğŸ¤– ä¸ Mastra æ™ºèƒ½ä½“äº¤äº’
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- âš¡ ç°ä»£åŒ–çš„ UI è®¾è®¡
- ğŸ”„ è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯
- ğŸ¨ ä¼˜é›…çš„åŠ è½½åŠ¨ç”»
- ğŸ—‘ï¸ æ¸…ç©ºèŠå¤©è®°å½•åŠŸèƒ½

## æŠ€æœ¯æ ˆ

- **React 18** - å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **@mastra/client-js** - Mastra å®¢æˆ·ç«¯ SDK
- **CSS3** - æ ·å¼å’ŒåŠ¨ç”»

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ChatComponent.tsx    # èŠå¤©ç»„ä»¶
â”‚   â””â”€â”€ ChatComponent.css    # èŠå¤©ç»„ä»¶æ ·å¼
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ mastra-client.ts     # Mastra å®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ types/
â”‚   â””â”€â”€ chat.ts             # ç±»å‹å®šä¹‰
â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ç»„ä»¶
â””â”€â”€ App.css                 # åº”ç”¨æ ·å¼
```

## å®‰è£…å’Œè¿è¡Œ

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm start
```

åº”ç”¨å°†åœ¨ [http://localhost:3000](http://localhost:3000) å¯åŠ¨ã€‚

### 3. ç¡®ä¿ Mastra åç«¯è¿è¡Œ

ç¡®ä¿ä½ çš„ Mastra åç«¯æœåŠ¡å™¨åœ¨ `http://localhost:4112` è¿è¡Œï¼š

```bash
# åœ¨ mastra-chat-cf ç›®å½•ä¸­
npm run dev
```

## é…ç½®

### Mastra æœåŠ¡å™¨åœ°å€

åœ¨ `src/lib/mastra-client.ts` ä¸­é…ç½®ä½ çš„ Mastra æœåŠ¡å™¨åœ°å€ï¼š

```typescript
export const mastraClient = new MastraClient({
  baseUrl: "http://localhost:4112", // ä¿®æ”¹ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€
  retries: 3,
  backoffMs: 300,
  maxBackoffMs: 5000,
});
```

### æ™ºèƒ½ä½“åç§°

åœ¨ `src/components/ChatComponent.tsx` ä¸­ä¿®æ”¹æ™ºèƒ½ä½“åç§°ï¼š

```typescript
const agent = mastraClient.getAgent(
  "studyAssistantAgentDeepSeek"
); // ä¿®æ”¹ä¸ºä½ çš„æ™ºèƒ½ä½“åç§°
```

## ä½¿ç”¨æ–¹æ³•

1. æ‰“å¼€åº”ç”¨åï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªèŠå¤©ç•Œé¢
2. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ çš„é—®é¢˜
3. ç‚¹å‡»"å‘é€"æŒ‰é’®æˆ–æŒ‰å›è½¦é”®
4. ç­‰å¾…æ™ºèƒ½ä½“å›å¤
5. å¯ä»¥ç‚¹å‡»"æ¸…ç©ºèŠå¤©"æŒ‰é’®æ¸…é™¤æ‰€æœ‰æ¶ˆæ¯

## å¼€å‘

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### è¿è¡Œæµ‹è¯•

```bash
npm test
```

## æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜

å¦‚æœé‡åˆ°è¿æ¥é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. Mastra åç«¯æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ
2. æœåŠ¡å™¨åœ°å€é…ç½®æ˜¯å¦æ­£ç¡®
3. ç«¯å£æ˜¯å¦è¢«å ç”¨
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### CORS é—®é¢˜

å¦‚æœé‡åˆ° CORS é”™è¯¯ï¼Œç¡®ä¿ Mastra æœåŠ¡å™¨é…ç½®äº†æ­£ç¡®çš„ CORS è®¾ç½®ã€‚

## è‡ªå®šä¹‰

### ä¿®æ”¹æ ·å¼

ç¼–è¾‘ `src/components/ChatComponent.css` æ¥è‡ªå®šä¹‰èŠå¤©ç•Œé¢æ ·å¼ã€‚

### æ·»åŠ æ–°åŠŸèƒ½

- åœ¨ `src/components/` ä¸­æ·»åŠ æ–°ç»„ä»¶
- åœ¨ `src/types/` ä¸­æ·»åŠ æ–°çš„ç±»å‹å®šä¹‰
- åœ¨ `src/lib/` ä¸­æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°

## è®¸å¯è¯

MIT License
